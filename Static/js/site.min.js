function GetMap(){var t,n;map=new atlas.Map("demoMap",{center:userPosition,zoom:16,view:"Auto",style:layerStyle,authOptions:{authType:"anonymous",clientId:"e6b6ab59-eb5d-4d25-aa57-581135b927f0",getToken:function(n){fetch("https://samples.azuremaps.com/api/GetAzureMapsToken").then(n=>n.text()).then(t=>n(t))}}});resultsPanel=document.getElementById("results-panel");searchInput=document.getElementById("search-input");searchInput.addEventListener("keyup",searchInputKeyup);searchInput.addEventListener("search",function(){searchInput.value.trim().length<3&&(resultsPanel.innerHTML="")});t=document.getElementById("search-country");t.addEventListener("change",search);n=atlas.service.MapsURL.newPipeline(new atlas.service.MapControlCredential(map));routeURL=new atlas.service.RouteURL(n);searchURL=new atlas.service.SearchURL(n);locateMeButton=document.getElementById("locate-me-button");locateMeButton.addEventListener("click",locateMe);radarButton=document.getElementById("radar-button");radarButton.addEventListener("click",loadRadarLayer);infraredButton=document.getElementById("infrared-button");infraredButton.addEventListener("click",loadInfraredLayer);clearButton=document.getElementById("clearmap-button");clearButton.addEventListener("click",function(){clearSearch();searchInput.value=""});popup=new atlas.Popup;map.events.add("ready",function(){var n;datasource=new atlas.source.DataSource;map.sources.add(datasource);map.imageSprite.add("geo-icon","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgZmlsbD0iIzUxN0NFRCIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04IDFhMyAzIDAgMSAwIDAgNiAzIDMgMCAwIDAgMC02ek00IDRhNCA0IDAgMSAxIDQuNSAzLjk2OVYxMy41YS41LjUgMCAwIDEtMSAwVjcuOTdBNCA0IDAgMCAxIDQgMy45OTl6bTIuNDkzIDguNTc0YS41LjUgMCAwIDEtLjQxMS41NzVjLS43MTIuMTE4LTEuMjguMjk1LTEuNjU1LjQ5M2ExLjMxOSAxLjMxOSAwIDAgMC0uMzcuMjY1LjMwMS4zMDEgMCAwIDAtLjA1Ny4wOVYxNGwuMDAyLjAwOGEuMTQ3LjE0NyAwIDAgMCAuMDE2LjAzMy42MTcuNjE3IDAgMCAwIC4xNDUuMTVjLjE2NS4xMy40MzUuMjcuODEzLjM5NS43NTEuMjUgMS44Mi40MTQgMy4wMjQuNDE0czIuMjczLS4xNjMgMy4wMjQtLjQxNGMuMzc4LS4xMjYuNjQ4LS4yNjUuODEzLS4zOTVhLjYxOS42MTkgMCAwIDAgLjE0Ni0uMTUuMTQ4LjE0OCAwIDAgMCAuMDE1LS4wMzNMMTIgMTR2LS4wMDRhLjMwMS4zMDEgMCAwIDAtLjA1Ny0uMDkgMS4zMTggMS4zMTggMCAwIDAtLjM3LS4yNjRjLS4zNzYtLjE5OC0uOTQzLS4zNzUtMS42NTUtLjQ5M2EuNS41IDAgMSAxIC4xNjQtLjk4NmMuNzcuMTI3IDEuNDUyLjMyOCAxLjk1Ny41OTRDMTIuNSAxMyAxMyAxMy40IDEzIDE0YzAgLjQyNi0uMjYuNzUyLS41NDQuOTc3LS4yOS4yMjgtLjY4LjQxMy0xLjExNi41NTgtLjg3OC4yOTMtMi4wNTkuNDY1LTMuMzQuNDY1LTEuMjgxIDAtMi40NjItLjE3Mi0zLjM0LS40NjUtLjQzNi0uMTQ1LS44MjYtLjMzLTEuMTE2LS41NThDMy4yNiAxNC43NTIgMyAxNC40MjYgMyAxNGMwLS41OTkuNS0xIC45NjEtMS4yNDMuNTA1LS4yNjYgMS4xODctLjQ2NyAxLjk1Ny0uNTk0YS41LjUgMCAwIDEgLjU3NS40MTF6IiAvPjwvc3ZnPg==");map.imageSprite.add("signpost-icon","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgZmlsbD0iIzA0MjU3QyIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNNyAxLjQxNFY0SDJhMSAxIDAgMCAwLTEgMXY0YTEgMSAwIDAgMCAxIDFoNXY2aDJ2LTZoMy41MzJhMSAxIDAgMCAwIC43NjgtLjM2bDEuOTMzLTIuMzJhLjUuNSAwIDAgMCAwLS42NEwxMy4zIDQuMzZhMSAxIDAgMCAwLS43NjgtLjM2SDlWMS40MTRhMSAxIDAgMCAwLTIgMHpNMTIuNTMyIDVsMS42NjYgMi0xLjY2NiAySDJWNWgxMC41MzJ6IiAvPjwvc3ZnPg==");map.imageSprite.add("signpost2-icon","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgZmlsbD0iIzg2MkE2RiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNNyA3VjEuNDE0YTEgMSAwIDAgMSAyIDBWMmg1YTEgMSAwIDAgMSAuOC40bC45NzUgMS4zYS41LjUgMCAwIDEgMCAuNkwxNC44IDUuNmExIDEgMCAwIDEtLjguNEg5djEwSDd2LTVIMmExIDEgMCAwIDEtLjgtLjRMLjIyNSA5LjNhLjUuNSAwIDAgMSAwLS42TDEuMiA3LjRBMSAxIDAgMCAxIDIgN2g1em0xIDNWOEgybC0uNzUgMUwyIDEwaDZ6bTAtNWg2bC43NS0xTDE0IDNIOHYyeiIgLz48L3N2Zz4=");map.imageSprite.add("map-icon","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgZmlsbD0iIzQyNEY4NSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS44MTcuMTEzQS41LjUgMCAwIDEgMTYgLjV2MTRhLjUuNSAwIDAgMS0uNDAyLjQ5bC01IDFhLjUwMi41MDIgMCAwIDEtLjE5NiAwTDUuNSAxNS4wMWwtNC45MDIuOThBLjUuNSAwIDAgMSAwIDE1LjV2LTE0YS41LjUgMCAwIDEgLjQwMi0uNDlsNS0xYS41LjUgMCAwIDEgLjE5NiAwTDEwLjUuOTlsNC45MDItLjk4YS41LjUgMCAwIDEgLjQxNS4xMDN6TTEwIDEuOTFsLTQtLjh2MTIuOThsNCAuOFYxLjkxem0xIDEyLjk4IDQtLjhWMS4xMWwtNCAuOHYxMi45OHptLTYtLjhWMS4xMWwtNCAuOHYxMi45OGw0LS44eiIgLz48L3N2Zz4=");map.imageSprite.add("compass-icon","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgZmlsbD0iI0M4NUVBRSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNOCAxNi4wMTZhNy41IDcuNSAwIDAgMCAxLjk2Mi0xNC43NEExIDEgMCAwIDAgOSAwSDdhMSAxIDAgMCAwLS45NjIgMS4yNzZBNy41IDcuNSAwIDAgMCA4IDE2LjAxNnptNi41LTcuNWE2LjUgNi41IDAgMSAxLTEzIDAgNi41IDYuNSAwIDAgMSAxMyAweiIgLz48cGF0aCBkPSJtNi45NCA3LjQ0IDQuOTUtMi44My0yLjgzIDQuOTUtNC45NDkgMi44MyAyLjgyOC00Ljk1eiIgLz48L3N2Zz4=");var t=new atlas.layer.SymbolLayer(datasource,null,{iconOptions:{image:["get","icon"],anchor:"center",allowOverlap:!0},filter:["==","layer","searchLayer"]}),i=new atlas.layer.LineLayer(datasource,null,{strokeColor:["get","strokeColor"],strokeWidth:["get","strokeWidth"],strokeOpacity:1,lineJoin:"round",lineCap:"round",filter:["==","layer","routeLayer"]}),r=new atlas.layer.PolygonLayer(datasource,null,{fillColor:"rgba(0, 200, 0, 0.4)",filter:["==","layer","isochroneLayer"]}),u=new atlas.layer.LineLayer(datasource,null,{strokeColor:"green",filter:["==","layer","isochroneLayer"]}),f=new atlas.layer.PolygonLayer(datasource,null,{fillColor:"rgba(0, 153, 255, 0.5)",filter:["==","layer","locateMe"]}),e=new atlas.layer.SymbolLayer(datasource,null,{iconOptions:{image:"marker-red",anchor:"center",allowOverlap:!0},filter:["==","layer","locateMe"]});map.layers.add([e,f,t,r,u]);map.layers.add(i,"labels");map.events.add("click",t,function(n){n.shapes&&n.shapes.length>0&&showPopupPOI(n.shapes[0])});map.events.add("click",function(n){n.shapes&&n.shapes.length>0&&n.shapes[0].source&&showPopup(n.position)});n=new atlas.drawing.DrawingManager(map,{interactionType:"click",toolbar:new atlas.control.DrawingToolbar({position:"bottom-right"})});map.events.add("drawingstarted",n,()=>{n.getOptions().interactionType==="click"&&map.setUserInteraction({dragPanInteraction:!0})});map.controls.add([new atlas.control.StyleControl({autoSelectionMode:!0,mapStyles:["road","road_shaded_relief","grayscale_light","night","grayscale_dark","satellite","satellite_road_labels","high_contrast_dark"]}),new atlas.control.TrafficControl,new atlas.control.ZoomControl,new atlas.control.PitchControl,new atlas.control.CompassControl,],{position:"top-right"});map.controls.add(new atlas.control.TrafficLegendControl,{position:"bottom-left"});map.resize()})}function clearSearch(){resultsPanel.innerHTML="";datasource.clear();popup.close()}function locateMe(){var n=document.getElementById("locate-me-icon"),t=document.getElementById("locate-me-spinner");locateMeButton.disabled=!0;locateMeButton.className="btn btn-warning";n.style.display="none";t.style.display="block";navigator.geolocation.getCurrentPosition(function(i){userPositionUpdated=!0;userPosition=[i.coords.longitude,i.coords.latitude];map.setCamera({center:userPosition,zoom:15,pitch:0,bearing:0});searchURL.searchAddressReverse(atlas.service.Aborter.timeout(1e4),userPosition,{view:"Auto"}).then(r=>{r.addresses.length>0&&(document.querySelector(".form-select").value=r.addresses[0].address.countryCode,search());var u=new atlas.data.Point(userPosition);datasource.add(new atlas.data.Feature(u,{layer:"locateMe",subType:"Circle",radius:i.coords.accuracy}));locateMeButton.disabled=!1;locateMeButton.className="btn btn-outline-secondary";n.style.display="block";t.style.display="none"})},function(){alert("Sorry, your position information is unavailable!");locateMeButton.disabled=!1;locateMeButton.className="btn btn-outline-secondary";n.style.display="block";t.style.display="none"})}function searchInputKeyup(n){centerMapOnResults=!1;searchInput.value.length>=3?(n.keyCode===13&&(centerMapOnResults=!0),setTimeout(function(){searchInputLength===searchInput.value.length&&search()},250)):resultsPanel.innerHTML="";searchInputLength=searchInput.value.length}function search(){clearSearch();var n=searchInput.value.trim(),t=document.getElementById("search-country"),i=t.options[t.selectedIndex].value;n&&searchURL.searchFuzzy(atlas.service.Aborter.timeout(1e4),n,{lon:map.getCamera().center[0],lat:map.getCamera().center[1],countrySet:[i],typeahead:!0,view:"Auto"}).then(n=>{var f,u;for(data=n.geojson.getFeatures(),f="",u=0;u<data.features.length;u++){var t=data.features[u],i="map-icon",r="Location",e=t.properties.dist<1?0:(t.properties.dist/1e3).toFixed(1);switch(t.properties.type){case"POI":i="geo-icon";r=t.properties.poi.name;break;case"Street":case"Point Address":i="signpost-icon";r=t.properties.address.streetName;break;case"Geography":i="compass-icon";r=t.properties.address.country;break;case"Address Range":i="map-icon";r="Address Range";break;case"Cross Street":i="signpost2-icon";r=t.properties.address.streetName}t.properties.icon=i;t.properties.layer="searchLayer";f+=`<a href="#" class="list-group-item list-group-item-action d-flex gap-3 py-3" onclick="itemClicked('${t.id}')" onmouseover="itemHovered('${t.id}')"><svg class="flex-shrink-0" width="2.0em" height="2.0em"><use xlink:href="#${i}" /></svg><div class="d-flex gap-2 w-100 justify-content-between"><div><h6 class="mb-0">${r}</h6><p class="mb-0 opacity-75">${t.properties.address.freeformAddress}</p></div><small class="text-nowrap">${e} km</small></div></a>`}resultsPanel.innerHTML=f;datasource.add(data);centerMapOnResults&&map.setCamera({bounds:data.bbox})})}function itemClicked(n){var t=datasource.getShapeById(n),i=t.getCoordinates();map.setCamera({center:i,zoom:16});showPopupPOI(t)}function itemHovered(n){var t=datasource.getShapeById(n);showPopupPOI(t)}function addressClicked(n){var t=datasource.getShapeById(n),i=t.getCoordinates(),r=userPosition;routeURL.calculateRouteDirections(atlas.service.Aborter.timeout(1e4),[r,i],{traffic:!0,travelMode:"car"}).then(n=>{var i=n.geojson.getFeatures(),t=i.features[0];t.properties.strokeColor="#B76DAB";t.properties.strokeWidth=5;t.properties.layer="routeLayer";datasource.add(t)},()=>{alert("Sorry, it was not possible to route to this location.")});popup.close(map)}function truckClicked(n){var t=datasource.getShapeById(n),i=t.getCoordinates(),r=userPosition;routeURL.calculateRouteDirections(atlas.service.Aborter.timeout(1e4),[r,i],{traffic:!0,travelMode:"truck"}).then(n=>{var i=n.geojson.getFeatures(),t=i.features[0];t.properties.strokeColor="#2272B9";t.properties.strokeWidth=9;t.properties.layer="routeLayer";datasource.add(t,0)},()=>{alert("Sorry, it was not possible to route to this location.")});popup.close(map)}function startpositionClicked(n){userPosition=n;var t=new atlas.data.Point(userPosition);datasource.add(new atlas.data.Feature(t,{layer:"locateMe"}));map.setCamera({center:userPosition});userPositionUpdated=!0;popup.close()}function isochroneClicked(n){var t=new atlas.data.Point(n);datasource.add(new atlas.data.Feature(t,{layer:"locateMe"}));map.setCamera({center:n,zoom:11,pitch:0,bearing:0});Promise.all([routeURL.calculateRouteRange(atlas.service.Aborter.timeout(1e4),n,{traffic:!0,timeBudgetInSec:900}),routeURL.calculateRouteRange(atlas.service.Aborter.timeout(1e4),n,{traffic:!0,timeBudgetInSec:1800})]).then(n=>{for(var i,t=0;t<n.length;t++)i=n[t].geojson.getFeatures().features[0],i.properties.layer="isochroneLayer",datasource.add(i)},()=>{alert("Sorry, it was not possible to calculate travel time for this location.")});popup.close()}function showPopup(n){popup.close();searchURL.searchAddressReverse(atlas.service.Aborter.timeout(1e4),n,{view:"Auto"}).then(t=>{if(t.addresses.length>0){var i=t.addresses[0],r=i.address.street?i.address.street:i.address.freeformAddress,u=`<div class="card" style="width:420px;"><div class="card-header"><h5 class="card-title text-wrap">${r}</h5></div><div class="card-body"><div class="list-group"><a href="#" onclick="startpositionClicked([${n[0]},${n[1]}])" class="list-group-item list-group-item-action d-flex gap-3 py-3" aria-current="true"><svg width="32" height="32" class="flex-shrink-0"><use xlink:href="#bullseye-icon" /></svg><div class="d-flex gap-2 w-100 justify-content-between"><div><h6 class="mb-0">Use as starting point</h6><p class="mb-0 opacity-75 text-wrap">${i.address.freeformAddress}</p></div><small class="text-nowrap">Geocoding</small></div></a><a href="#" onclick="isochroneClicked([${n[0]},${n[1]}])" class="list-group-item list-group-item-action d-flex gap-3 py-3" aria-current="true"><svg width="32" height="32" class="flex-shrink-0"><use xlink:href="#clock-icon" /></svg><div class="d-flex gap-2 w-100 justify-content-between"><div><h6 class="mb-0">Travel time around this point</h6><p class="mb-0 opacity-75 text-wrap">How far can you drive in 15 and 30 minutes from this location including traffic conditions?</p></div><small class="text-nowrap">Isochrone</small></div></a></div></div></div></div>`;popup.setOptions({position:n,content:u});popup.open(map)}},()=>{alert("Sorry, we where unable to find address details for this location.")})}async function showPopupPOI(n){popup.close();var t=n.getProperties(),r=n.getCoordinates(),u="Location",s=t.dist<1?0:(t.dist/1e3).toFixed(1),f="",e="";switch(t.type){case"POI":u=t.poi.name;t.poi.phone&&(f=t.poi.phone);t.poi.url&&(e=t.poi.url);break;case"Street":case"Point Address":case"Cross Street":u=t.address.streetName;break;case"Geography":u=t.address.country;break;case"Address Range":u="Address Range"}var h=weatherUrl.replace("{query}",r[1]+","+r[0]),i=await processRequest(h).then(n=>n&&n.results&&n.results[0]?n.results[0]:null),c=airQualityUrl.replace("{query}",r[1]+","+r[0]),o=await processRequest(c).then(n=>n&&n.results&&n.results[0]?n.results[0]:null),l=`<div class="card" style="width:420px;"><div class="card-header"><h5 class="card-title text-wrap">${u}</h5></div><div class="card-body"><div class="list-group"><a href="#" onclick="addressClicked('${n.data.id}')" class="list-group-item list-group-item-action d-flex gap-3 py-3" ><svg width="32" height="32" class="flex-shrink-0"><use xlink:href="#cursor-icon" /></svg><div class="d-flex gap-2 w-100 justify-content-between"><div><h6 class="mb-0">Address</h6><p class="mb-0 opacity-75 text-wrap">${t.address.freeformAddress}</p></div></div><small class="text-nowrap">Directions</small></a><a href="#" onclick="truckClicked('${n.data.id}')" class="list-group-item list-group-item-action d-flex gap-3 py-3" ><svg width="32" height="32" class="flex-shrink-0"><use xlink:href="#truck-icon" /></svg><div class="d-flex gap-2 w-100 justify-content-between"><div><h6 class="mb-0">Truck Route</h6><p class="mb-0 opacity-75 text-wrap">Route that is optimized for commercial vehicles, like for trucks.</p></div></div><small class="text-nowrap">Directions</small></a><a target="_blank" href="tel:${f.replace(/\s/g,"")}" class="list-group-item list-group-item-action d-flex gap-3 py-3 ${f===""?"d-none":""}" ><svg width="32" height="32" class="flex-shrink-0"><use xlink:href="#phone-icon" /></svg><div class="d-flex gap-2 w-100 justify-content-between"><div><h6 class="mb-0">Phone</h6><p class="mb-0 opacity-75">${f}</p></div><small class="text-nowrap">POI</small></div></a><a target="_blank" href="http://${e.replace(/^https?\:\/\//i,"")}" class="list-group-item list-group-item-action d-flex gap-3 py-3 ${e===""?"d-none":""}" ><svg width="32" height="32" class="flex-shrink-0"><use xlink:href="#link-icon" /></svg><div class="d-flex gap-2 w-100 justify-content-between"><div><h6 class="mb-0">Website</h6><p class="mb-0 opacity-75">${e.replace(/^https?\:\/\//i,"")}</p></div><small class="text-nowrap">POI</small></div></a><a target="_blank" href="https://docs.microsoft.com/rest/api/maps/weather/get-current-conditions" class="list-group-item list-group-item-action d-flex gap-3 py-3 ${i?"":"d-none"}" ><img width="32" height="32" alt="Weather" aria-label="Weather" class="flex-shrink-0" src="/images/icons/weather-black/${i.iconCode}.png"/><div class="d-flex gap-2 w-100 justify-content-between"><div><h6 class="mb-0">${i.phrase}</h6><p class="mb-0 opacity-75 text-wrap">Temperature ${i.temperature.value}&#176;${i.temperature.unit} and feels like ${i.realFeelTemperature.value}&#176;${i.realFeelTemperature.unit}</p></div><small class="text-nowrap">Weather</small></div></a><a target="_blank" href="https://docs.microsoft.com//rest/api/maps/weather/get-current-air-quality" class="list-group-item list-group-item-action d-flex gap-3 py-3 ${o?"":"d-none"}" ><svg width="32" height="32" class="flex-shrink-0"><use xlink:href="#balloon-icon" /></svg><div class="d-flex gap-2 w-100 justify-content-between"><div><h6 class="mb-0">${o.category}</h6><p class="mb-0 opacity-75 text-wrap">${o.description}</p></div><small class="text-nowrap">Air Quality</small></div></a></div></div><div class="card-footer text-muted">${s} km away from ${userPositionUpdated===!0?"you":"the Tower of London"}</div></div>`;popup.setOptions({position:r,content:l});popup.open(map)}function loadRadarLayer(){radarLayer?(radarButton.className="btn btn-outline-secondary",map.layers.remove(radarLayer),radarLayer=null,map.setStyle({style:layerStyle})):(radarButton.className="btn btn-warning",layerStyle=map.getStyle().style,map.setStyle({style:"grayscale_dark"}),map.setCamera({zoom:6,pitch:0,bearing:0}),radarLayer=new atlas.layer.TileLayer({tileUrl:tileUrl.replace("{tilesetId}","microsoft.weather.radar.main").replace("{tileSize}","256"),opacity:.8,tileSize:256}),map.layers.add(radarLayer,"labels"))}function loadInfraredLayer(){infraredLayer?(infraredButton.className="btn btn-outline-secondary",map.layers.remove(infraredLayer),infraredLayer=null,map.setStyle({style:layerStyle})):(infraredButton.className="btn btn-warning",layerStyle=map.getStyle().style,map.setStyle({style:"grayscale_dark"}),map.setCamera({zoom:6,pitch:0,bearing:0}),infraredLayer=new atlas.layer.TileLayer({tileUrl:tileUrl.replace("{tilesetId}","microsoft.weather.infrared.main").replace("{tileSize}","256"),opacity:.8,tileSize:256}),map.layers.add(infraredLayer,"labels"))}function processRequest(n){return new Promise((t,i)=>{n=n.replace("{azMapsDomain}",atlas.getDomain());var r=map.authentication.signRequest({url:n}),u=map.getServiceOptions().tranformRequest;u&&(r=u(n));fetch(r.url,{method:"GET",mode:"cors",headers:new Headers(r.headers)}).then(n=>n.json(),n=>i(n)).then(n=>{t(n)},n=>i(n))})}var map,datasource,popup,radarLayer,infraredLayer,contourNumbersLayer,contourLayer,searchInput,locateMeButton,resultsPanel,searchInputLength,radarButton,infraredButton,contoursButton,clearButton,userPosition=[-.076083,51.50812],userPositionUpdated=!1,layerStyle="road",centerMapOnResults=!1,weatherUrl="https://{azMapsDomain}/weather/currentConditions/json?api-version=1.1&query={query}",tileUrl="https://{azMapsDomain}/map/tile?api-version=2.1&tilesetId={tilesetId}&zoom={z}&x={x}&y={y}&tileSize={tileSize}&view=Auto",airQualityUrl="https://{azMapsDomain}/weather/airQuality/current/json?api-version=1.1&query={query}",routeURL,searchURL;